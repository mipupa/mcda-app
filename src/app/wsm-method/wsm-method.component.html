<div class="container mt-2">
    <div class="card title border shadow-sm bg-color">
      <h4 class="text-center py-2">WSM Analysis Method</h4>
    </div>
    
    <div *ngIf="selectedData.length">
      <table class="table mt-3">
        <thead>
          <tr>
            <th>Alternativa</th>
            <th *ngFor="let column of criteria">{{ column }}</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let row of selectedData">
            <td>{{ row[0] }}</td>
            <td *ngFor="let value of row.slice(1)">{{ value }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  
    <div class="mt-4">
      <h5>Set weights - importance of criterion:</h5>      
      <table class="input-table">
        <thead>
          <tr>
            <th>Kriterij</th>
            <th>Utež</th>
            <th>Vrednost</th>
            
          </tr>
        </thead> 
        <tbody>
          <tr *ngFor="let criterion of criteria; let i = index">
            <td>{{ criterion }}</td>
            <td>
              <input 
              type="range"
              class="input-slider" 
              [min]="0" 
              [max]="1" 
              [step]="0.1" 
              [(ngModel)]="weights[i]" 
              (change)="updateWeights(i, weights[i])" 
              [disabled]="isDisabled(i)"
              class="input-type"
            />
            </td>
            <td>{{ weights[i].toFixed(1) }}</td>
           
          </tr>
        </tbody>
      </table>
      <div class="total-weight">
        Skupna utež: {{ getTotalWeight() }} / 1
      </div>
      <div>
       
       
      </div>
      <button type="submit" class="analyze-button" [disabled]="getTotalWeight() !== 1" (click)="analyze()">Process Analysis</button>
      
            
     
    <!-- Prikaz rezultatov -->
    <div *ngIf="ranking.length" class="mt-5">
      <h4 class="mt-2">Analysis Results:</h4>
      <table class="results-table">
        <thead>
          <tr>
            <th>Alternative</th>
            <th>WSM</th>
            <th>Ranking</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let result of ranking; let i = index;">
            <td>{{ result.name }}</td>
            <td>{{ result.score | number:'1.2-2' }}</td>
            <td>{{i+1}}</td>
          </tr>
        </tbody>
      </table>
  
      <h4 class="mt-2">Visual Representation:</h4>
      <div id="chartContainer">
        <div id="chart"></div>
        </div>
      <button type="submit" class="analyze-button" [routerLink]="['/choose-method']">Back To Choose Method</button>
    </div>


    
  </div>
